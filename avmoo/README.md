[TOC]

# 1.0版
## 思路整理
1. 进入`https://avmoo.asia/cn/actresses`页面，依次爬取演员详情链接
2. 进入演员详情页面
    1. 优先判断是否存在步兵链接，存在则优先进入步兵详情页
        1. 进入步兵影片详情页，爬取相关信息，存入数据库
        2. 重复爬取步骤，直到爬完当页所有详情页链接
        3. 判断有无下一页，有则进入下一页，直到没有下一页时退回骑兵页
    2. 进入骑兵详情页，爬取相关信息，存入数据库
    3. 重复爬取步骤，直到爬完当页所有详情页链接
    4. 判断有无下一页，，有则进入下一页，直到没有下一页时退回演员首页
3. 爬取下一位演员详情，直到爬取当页所有演员详情链接
4. 判断有无下一页，有则进入下一页，没有则退出程序，爬取完成

## 注意点
### 断点下载
请求错误后如何从中断点开始下载？【因为可能从任意的页面中中断，是否需要一个页面标记？】<br>
爬虫爬取的页面共计三级四类，如下
```
演员列表页--演员详情页--骑兵影片详情页
                   --步兵影片详情页
```
应对方案如下：
1. 如果报错，无论是什么页面都记录下报错页面【以备重下载——需要区分出不同级别的页面并进行处理】
2. 演员级别则全部下载完成后将其url存入数据库中，重启后检测是否已存在，没有存入的则重进行下载
> 不足之处：演员级别的影片重下载，也需要付出0-200不等的重复请求次数，不过相对于数十万级别的请求而言，我认为是可以接受的

## 保存信息及数据结构
### 信息

#### 演员
> 信息可能缺失
- 预览头像
- 姓名
- 生日
- 年龄
- 身高
- 罩杯
- 胸围
- 腰围
- 臀围
- 出生地
- 爱好

#### 影片
> 信息可能缺失
- 当页URL
- 识别码
- 出演成员
- 截图
- 封面
- 发行时间
- 长度
- 制作商
- 发行商
- 类别【需要考虑以列表还是字符串保存】

### 数据库
有4部分需要存储，存储在DB7数据库里
#### 演员库avmoo_stars
散列结构，键名取演员名，具体如下:

- 演员名
    - 预览图
    - 预览头像
    - 姓名
    - 生日
    - 年龄
    - 身高
    - 罩杯
    - 胸围
    - 腰围
    - 臀围
    - 出生地
    - 爱好  
    - 骑兵影片
        - 当页URL
        - 识别码
        - 出演成员
        - 截图
        - 封面
        - 发行时间
        - 长度
        - 制作商
        - 发行商
        - 类别【需要考虑以列表还是字符串保存】
    - 步兵影片
        - 当页URL
        - 识别码
        - 出演成员
        - 截图
        - 封面
        - 发行时间
        - 长度
        - 制作商
        - 发行商
        - 类别【需要考虑以列表还是字符串保存】

#### 影片库avmoo_movies【一期暂不存储】
数据结构为集合

#### 已下载全部影片的演员记录库avmoo_complete_stars【改为直接使用avmoo_stars】

#### 报错的页面avmoo_faild_urls

